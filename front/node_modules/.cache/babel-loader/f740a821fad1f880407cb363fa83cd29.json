{"ast":null,"code":"var _jsxFileName = \"/Users/mfs/Desktop/e m p l o y m e n t/Maisonette/Projects/damage-defect-wizard/src/components/DamageDefectForm/FormComponents/ImageUpload.tsx\";\nimport React from \"react\";\nimport Form from \"react-bootstrap/Form\"; // allows passing of url from parent element\n// (could implement a fetch to database for updating for contents)\n// TODO: implement reference/registering of field with react-hook-form\n\nexport const ImageUpload = props => {\n  var _props$imageData;\n\n  // const [imageData, setImageData] = useState([]);\n  // const [url, setURL] = useState<string>(\n  //   \"https://images.ctfassets.net/0jkr5d02o14t/4Tsq7upvRUHBdW4HwzeNEy/7f140b351543035dae54015d634c0df4/placeholder.png?h=250\"\n  // );\n  // // on file change\n  // const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n  //   const el = event.target as HTMLInputElement;\n  //   const newURL = el.files ? el.files : url;\n  //   handleFileUpload(newURL);\n  // };\n  // const handleFileUpload = async (files: any) => {\n  //   const imageForm = new FormData();\n  //   // appends image data for submission to S3 bucket\n  //   for (let i = 0; i < files.length; i++) {\n  //     imageForm.append(\"images\", files[i]);\n  //   }\n  //   const url = `http://localhost:4000/upload-damage-image`;\n  //   const config = {\n  //     method: \"POST\",\n  //     body: imageForm,\n  //   };\n  //   try {\n  //     const req = await fetch(url, config);\n  //     // console.log(req);\n  //     if (req.ok) {\n  //       const res = await req.json();\n  //       // console.log(res);\n  //       if (res.success) {\n  //         setImageData(res.images);\n  //       }\n  //     }\n  //   } catch (error) {\n  //     console.log(error);\n  //   }\n  // };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form.File, {\n    name: \"images\",\n    type: \"file\",\n    accept: \"image/png image/jpeg\",\n    onChange: props.onChange,\n    multiple: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }), (_props$imageData = props.imageData) === null || _props$imageData === void 0 ? void 0 : _props$imageData.map(image => /*#__PURE__*/React.createElement(\"img\", {\n    width: \"80px\",\n    height: \"80px\",\n    src: `${image[\"location\"]}`,\n    alt: \"damage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  })));\n};","map":{"version":3,"sources":["/Users/mfs/Desktop/e m p l o y m e n t/Maisonette/Projects/damage-defect-wizard/src/components/DamageDefectForm/FormComponents/ImageUpload.tsx"],"names":["React","Form","ImageUpload","props","onChange","imageData","map","image"],"mappings":";AAAA,OAAOA,KAAP,MAAgC,OAAhC;AACA,OAAOC,IAAP,MAAiB,sBAAjB,C,CAEA;AACA;AACA;;AAMA,OAAO,MAAMC,WAAW,GAAIC,KAAD,IAA6B;AAAA;;AACtD;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,IAAN;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,MAAM,EAAC,sBAHT;AAIE,IAAA,QAAQ,EAAEA,KAAK,CAACC,QAJlB;AAKE,IAAA,QAAQ,MALV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,eASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,sBAUGD,KAAK,CAACE,SAVT,qDAUG,iBAAiBC,GAAjB,CAAsBC,KAAD,iBACpB;AACE,IAAA,KAAK,EAAC,MADR;AAEE,IAAA,MAAM,EAAC,MAFT;AAGE,IAAA,GAAG,EAAG,GAAEA,KAAK,CAAC,UAAD,CAAa,EAH5B;AAIE,IAAA,GAAG,EAAC,QAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CAVH,CADF;AAqBD,CA/DM","sourcesContent":["import React, { useState } from \"react\";\nimport Form from \"react-bootstrap/Form\";\n\n// allows passing of url from parent element\n// (could implement a fetch to database for updating for contents)\n// TODO: implement reference/registering of field with react-hook-form\ninterface ImageUploadProps {\n  imageData?: Array<any>;\n  onChange: (event:any) => void\n}\n\nexport const ImageUpload = (props: ImageUploadProps) => {\n  // const [imageData, setImageData] = useState([]);\n  // const [url, setURL] = useState<string>(\n  //   \"https://images.ctfassets.net/0jkr5d02o14t/4Tsq7upvRUHBdW4HwzeNEy/7f140b351543035dae54015d634c0df4/placeholder.png?h=250\"\n  // );\n\n  // // on file change\n  // const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n  //   const el = event.target as HTMLInputElement;\n  //   const newURL = el.files ? el.files : url;\n  //   handleFileUpload(newURL);\n  // };\n\n  // const handleFileUpload = async (files: any) => {\n  //   const imageForm = new FormData();\n\n  //   // appends image data for submission to S3 bucket\n  //   for (let i = 0; i < files.length; i++) {\n  //     imageForm.append(\"images\", files[i]);\n  //   }\n\n  //   const url = `http://localhost:4000/upload-damage-image`;\n\n  //   const config = {\n  //     method: \"POST\",\n  //     body: imageForm,\n  //   };\n  //   try {\n  //     const req = await fetch(url, config);\n  //     // console.log(req);\n  //     if (req.ok) {\n  //       const res = await req.json();\n  //       // console.log(res);\n  //       if (res.success) {\n  //         setImageData(res.images);\n  //       }\n  //     }\n  //   } catch (error) {\n  //     console.log(error);\n  //   }\n\n  // };\n  return (\n    <div>\n      <Form.File\n        name=\"images\"\n        type=\"file\"\n        accept=\"image/png image/jpeg\"\n        onChange={props.onChange}\n        multiple\n      ></Form.File>\n      <br />\n      <br />\n      {props.imageData?.map((image) => (\n        <img\n          width=\"80px\"\n          height=\"80px\"\n          src={`${image[\"location\"]}`}\n          alt=\"damage\"\n        ></img>\n      ))}\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}