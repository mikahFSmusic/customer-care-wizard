{"ast":null,"code":"var _jsxFileName = \"/Users/mfs/Desktop/e m p l o y m e n t/Maisonette/Projects/damage-defect-wizard/client/src/modules/customer/CustomerSearch.tsx\";\nimport { MDBBtn, MDBIcon, MDBInputGroup } from \"mdbreact\";\nimport React, { useState } from \"react\";\nimport { Container } from \"react-bootstrap\";\nimport { getCustomerByEmail } from \"../../kustomer.api\";\nimport { useCustomer } from \"./CustomerContext\";\nexport const CustomerSearch = ({\n  customerData\n}) => {\n  const [email, setEmail] = useState();\n  const [disabled, setDisabled] = useState();\n  const {\n    customer,\n    addCustomer\n  } = useCustomer();\n\n  const isValidEmail = value => {\n    if (/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(value)) return true;\n    return false;\n  };\n\n  const handleChange = e => {\n    const el = e.target;\n    const value = el.value;\n\n    if (isValidEmail(value)) {\n      setEmail(value);\n      setDisabled(false);\n      return;\n    }\n\n    setDisabled(true);\n  };\n\n  const handleSubmit = async (e) => {\n    if (email) {\n      try {\n        const res = await getCustomerByEmail(email);\n        console.log(res);\n\n        if (res.data) {\n          addCustomer(res);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    style: {\n      width: \"100%\",\n      padding: 0,\n      margin: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(MDBInputGroup, {\n    style: {\n      display: \"flex\",\n      alignContent: \"center\",\n      marginTop: \"20px\",\n      marginBottom: \"20px\",\n      width: \"100%\"\n    },\n    onChange: handleChange,\n    type: \"email\",\n    hint: \"Search Customer Email\",\n    append: /*#__PURE__*/React.createElement(MDBBtn, {\n      type: \"submit\",\n      style: {\n        padding: 0,\n        margin: 0,\n        width: 50\n      },\n      color: \"blue\",\n      onClick: handleSubmit,\n      disabled: disabled,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(MDBIcon, {\n      icon: \"fas fa-search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }));\n};","map":{"version":3,"sources":["/Users/mfs/Desktop/e m p l o y m e n t/Maisonette/Projects/damage-defect-wizard/client/src/modules/customer/CustomerSearch.tsx"],"names":["MDBBtn","MDBIcon","MDBInputGroup","React","useState","Container","getCustomerByEmail","useCustomer","CustomerSearch","customerData","email","setEmail","disabled","setDisabled","customer","addCustomer","isValidEmail","value","test","handleChange","e","el","target","handleSubmit","res","console","log","data","error","width","padding","margin","display","alignContent","marginTop","marginBottom"],"mappings":";AAAA,SAASA,MAAT,EAA+BC,OAA/B,EAAwCC,aAAxC,QAA6D,UAA7D;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,SAAT,QAA0B,iBAA1B;AAEA,SAASC,kBAAT,QAAmC,oBAAnC;AACA,SAASC,WAAT,QAA4B,mBAA5B;AAMA,OAAO,MAAMC,cAAc,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAA4C;AACxE,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,EAAlC;AACA,QAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,EAAxC;AACA,QAAM;AAAEU,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAA4BR,WAAW,EAA7C;;AAEA,QAAMS,YAAY,GAAIC,KAAD,IAAmB;AACtC,QACE,uEAAuEC,IAAvE,CACED,KADF,CADF,EAKE,OAAO,IAAP;AACF,WAAO,KAAP;AACD,GARD;;AAUA,QAAME,YAAY,GAAIC,CAAD,IAA4C;AAC/D,UAAMC,EAAE,GAAGD,CAAC,CAACE,MAAb;AACA,UAAML,KAAK,GAAGI,EAAE,CAACJ,KAAjB;;AACA,QAAID,YAAY,CAACC,KAAD,CAAhB,EAAyB;AACvBN,MAAAA,QAAQ,CAACM,KAAD,CAAR;AACAJ,MAAAA,WAAW,CAAC,KAAD,CAAX;AACA;AACD;;AACDA,IAAAA,WAAW,CAAC,IAAD,CAAX;AACD,GATD;;AAWA,QAAMU,YAAY,GAAG,OACnBH,CADmB,KAEhB;AACH,QAAIV,KAAJ,EAAW;AACT,UAAI;AACF,cAAMc,GAAkB,GAAG,MAAMlB,kBAAkB,CAACI,KAAD,CAAnD;AACAe,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,YAAIA,GAAG,CAACG,IAAR,EAAc;AACZZ,UAAAA,WAAW,CAACS,GAAD,CAAX;AACD;AACF,OAND,CAME,OAAOI,KAAP,EAAc;AACdH,QAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACD;AACF;AACF,GAdD;;AAeA,sBACE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAE;AAAEC,MAAAA,KAAK,EAAE,MAAT;AAAiBC,MAAAA,OAAO,EAAE,CAA1B;AAA6BC,MAAAA,MAAM,EAAE;AAArC,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,aAAD;AACE,IAAA,KAAK,EAAE;AACLC,MAAAA,OAAO,EAAE,MADJ;AAELC,MAAAA,YAAY,EAAE,QAFT;AAGLC,MAAAA,SAAS,EAAE,MAHN;AAILC,MAAAA,YAAY,EAAE,MAJT;AAKLN,MAAAA,KAAK,EAAE;AALF,KADT;AAQE,IAAA,QAAQ,EAAEV,YARZ;AASE,IAAA,IAAI,EAAC,OATP;AAUE,IAAA,IAAI,EAAC,uBAVP;AAWE,IAAA,MAAM,eACJ,oBAAC,MAAD;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,KAAK,EAAE;AAAEW,QAAAA,OAAO,EAAE,CAAX;AAAcC,QAAAA,MAAM,EAAE,CAAtB;AAAyBF,QAAAA,KAAK,EAAE;AAAhC,OAFT;AAGE,MAAA,KAAK,EAAC,MAHR;AAIE,MAAA,OAAO,EAAEN,YAJX;AAKE,MAAA,QAAQ,EAAEX,QALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAOE,oBAAC,OAAD;AAAS,MAAA,IAAI,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,CAZJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF;AA2BD,CApEM","sourcesContent":["import { MDBBtn, MDBContainer, MDBIcon, MDBInputGroup } from \"mdbreact\";\nimport React, { useState } from \"react\";\nimport { Container } from \"react-bootstrap\";\nimport { convertTypeAcquisitionFromJson } from \"typescript\";\nimport { getCustomerByEmail } from \"../../kustomer.api\";\nimport { useCustomer } from \"./CustomerContext\";\n\ninterface ICustomerSearchProps {\n  customerData?: ICustomerData;\n}\n\nexport const CustomerSearch = ({ customerData }: ICustomerSearchProps) => {\n  const [email, setEmail] = useState<string | undefined>();\n  const [disabled, setDisabled] = useState<boolean>();\n  const { customer, addCustomer } = useCustomer();\n\n  const isValidEmail = (value: string) => {\n    if (\n      /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(\n        value\n      )\n    )\n      return true;\n    return false;\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const el = e.target;\n    const value = el.value;\n    if (isValidEmail(value)) {\n      setEmail(value);\n      setDisabled(false);\n      return;\n    }\n    setDisabled(true);\n  };\n\n  const handleSubmit = async (\n    e: React.SyntheticEvent<HTMLButtonElement, Event>\n  ) => {\n    if (email) {\n      try {\n        const res: ICustomerData = await getCustomerByEmail(email);\n        console.log(res);\n        if (res.data) {\n          addCustomer(res);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n  return (\n    <Container style={{ width: \"100%\", padding: 0, margin: 0 }}>\n      <MDBInputGroup\n        style={{\n          display: \"flex\",\n          alignContent: \"center\",\n          marginTop: \"20px\",\n          marginBottom: \"20px\",\n          width: \"100%\",\n        }}\n        onChange={handleChange}\n        type=\"email\"\n        hint=\"Search Customer Email\"\n        append={\n          <MDBBtn\n            type=\"submit\"\n            style={{ padding: 0, margin: 0, width: 50 }}\n            color=\"blue\"\n            onClick={handleSubmit}\n            disabled={disabled}\n          >\n            <MDBIcon icon=\"fas fa-search\" />\n          </MDBBtn>\n        }\n      />\n    </Container>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}