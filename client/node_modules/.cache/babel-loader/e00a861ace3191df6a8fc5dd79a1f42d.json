{"ast":null,"code":"var _jsxFileName = \"/Users/mfs/Desktop/e m p l o y m e n t/Maisonette/Projects/damage-defect-wizard/client/src/modules/auth/AuthContext.tsx\";\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\nimport { auth } from \"../../firebase\";\nimport firebase from \"firebase/app\";\nconst AuthContext = createContext();\nexport const useAuth = () => {\n  return useContext(AuthContext);\n};\nexport const AuthProvider = ({\n  children\n}) => {\n  const [currentUser, setCurrentUser] = useState();\n\n  const signInWithGoogle = () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    return auth.signInWithRedirect(provider);\n  };\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(user => {\n      setCurrentUser(user);\n    });\n    return unsubscribe;\n  }, []);\n  const value = {\n    currentUser,\n    signInWithGoogle\n  };\n  return /*#__PURE__*/React.createElement(AuthContext.Provider, {\n    value: value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 10\n    }\n  }, children);\n};","map":{"version":3,"sources":["/Users/mfs/Desktop/e m p l o y m e n t/Maisonette/Projects/damage-defect-wizard/client/src/modules/auth/AuthContext.tsx"],"names":["React","createContext","useContext","useEffect","useState","auth","firebase","AuthContext","useAuth","AuthProvider","children","currentUser","setCurrentUser","signInWithGoogle","provider","GoogleAuthProvider","signInWithRedirect","unsubscribe","onAuthStateChanged","user","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,UAA/B,EAA2CC,SAA3C,EAAsDC,QAAtD,QAAsE,OAAtE;AACA,SAASC,IAAT,QAAqB,gBAArB;AACA,OAAOC,QAAP,MAAqB,cAArB;AAEA,MAAMC,WAAW,GAAGN,aAAa,EAAjC;AAEA,OAAO,MAAMO,OAAO,GAAG,MAAM;AAC3B,SAAON,UAAU,CAACK,WAAD,CAAjB;AACD,CAFM;AAIP,OAAO,MAAME,YAAY,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAC5C,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCR,QAAQ,EAA9C;;AAEA,QAAMS,gBAAgB,GAAG,MAAM;AAC7B,UAAMC,QAAQ,GAAG,IAAIR,QAAQ,CAACD,IAAT,CAAcU,kBAAlB,EAAjB;AACA,WAAOV,IAAI,CAACW,kBAAL,CAAwBF,QAAxB,CAAP;AACD,GAHD;;AAKAX,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMc,WAAW,GAAGZ,IAAI,CAACa,kBAAL,CAAyBC,IAAD,IAAU;AACpDP,MAAAA,cAAc,CAACO,IAAD,CAAd;AACD,KAFmB,CAApB;AAIA,WAAOF,WAAP;AACD,GANQ,EAMN,EANM,CAAT;AAQA,QAAMG,KAAK,GAAG;AACZT,IAAAA,WADY;AAEZE,IAAAA;AAFY,GAAd;AAKA,sBAAO,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAEO,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqCV,QAArC,CAAP;AACD,CAtBM","sourcesContent":["import React, { createContext, useContext, useEffect, useState } from \"react\";\nimport { auth } from \"../../firebase\";\nimport firebase from \"firebase/app\";\n\nconst AuthContext = createContext();\n\nexport const useAuth = () => {\n  return useContext(AuthContext);\n};\n\nexport const AuthProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState<firebase.User | null>();\n\n  const signInWithGoogle = () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    return auth.signInWithRedirect(provider);\n  };\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((user) => {\n      setCurrentUser(user);\n    });\n\n    return unsubscribe;\n  }, []);\n\n  const value = {\n    currentUser,\n    signInWithGoogle,\n  };\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n};\n"]},"metadata":{},"sourceType":"module"}